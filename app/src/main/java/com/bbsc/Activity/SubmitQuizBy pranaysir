private void updateAttemptNumber(JSONArray jsonArray, String newAttemptNo) {
        for (int i = 0; i < jsonArray.length(); i++) {
            try {
                // Get each JSONObject from the JSONArray
                JSONObject attempt_obj = jsonArray.getJSONObject(i);

                // Update the attempt_no field with the new attempt number
                attempt_obj.put("attempt_no", newAttemptNo);

            } catch (JSONException e) {
                e.printStackTrace();
            }
        }
    }
    private void SubmitQuiz() {
        int new_attempt;
        // Increment att_no before submitting
        int attemptNumber;
        try {
            attemptNumber = Integer.parseInt(att_no);  // Convert att_no to integer
        } catch (NumberFormatException e) {
            attemptNumber = 1;  // Default if parsing fails
        }
        new_attempt = attemptNumber + 1;  // Increment the attempt number
        att_no = String.valueOf(new_attempt);  // Convert the incremented value back to String

        Log.d("att_no incremented", "New att_no after submission: " + att_no);
        updateAttemptNumber(GetDetail.att_data, att_no);
        // Save updated att_no to SharedPreferences if needed
        SharedPrefManager.getInstance(MainActivity.this).editUser2(1, exam_title, GetDetail.att_data, att_no);

        // Hide submit button and show wait view
        submit.setVisibility(View.GONE);
        wait.setVisibility(View.VISIBLE);

        // Prepare intent for SuccessActivity
        Intent intent = new Intent(MainActivity.this, SuccessActivity.class);

        intent.putExtra("submit", "2");
        intent.putExtra("att_data", new Gson().toJson(GetDetail.att_data));  // Pass the selected answers
        intent.putExtra("att_no", att_no);  // Pass updated att_no as a String

        Log.d("Submission Data attDataJson:", new Gson().toJson(GetDetail.att_data));
        Log.d("Submission Data att_no:", att_no);

        // Clear the activity stack
        intent.addFlags(Intent.FLAG_ACTIVITY_CLEAR_TOP);
        startActivity(intent);
        finish();  // Optionally finish the current activity
    }
